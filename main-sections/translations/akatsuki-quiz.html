<!doctype html>
<html lang="en">
 <head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width">
   <title>citrinesea</title>
   <link rel="shortcut icon" href="../images/icons/site-logo-small.png"/>
   <link rel="stylesheet" href="../css/style.css">
   <link rel="stylesheet" href="../css/timeline-style.css">
   <link rel="stylesheet" href="../css/quiz.css">
 </head>

<body>
   <header>
     <h2><b>c i t r i n e s e a</b></h2>
     <div class="nav">
	<div class="dropdown">
		<button class="dropbtn"><a href="../index.html"><b>home</b></a></button></div>
	<div class="dropdown">
		<button class="dropbtn"><a href="../contributor-pages/about.html"><b>about</b></a></button></div>
  	</div></div></div>    
	</div>
   </header>

   <main>

   <div class="line"></div>
   <div class="indexcontent-box">
   <br></br>
   <div class="labelcategory">
   <p><b>AKATSUKI QUIZ</b></p></div>
   <div class="line"></div>
   <br></br>

   <p>Originally from Ensemble Stars! Magazine vol. 6 "Akatsuki"</p>

<div class="quiz-row">
<div class="quiz-column">
   <b>Question Set 1 | Basic Unit Knowledge</b>

   <div id="quiz"></div>
   <p><b></b></p>
   <button id="submit">Get Results</button>
   <div id="results"></div>
</div>

<div class="quiz-column">
   <b>Question Set 2 | Story</b>

   <div id="quiz"></div>
   <p><b></b></p>
   <button id="submit">Get Results</button>
   <div id="results"></div>
</div>
</div>

   <br></br>

   </div>	
   </main>
   <footer><h5>Â© 2023 citrinesea</h5>
   <p></p></footer>

<script>
var myQuestions = [
  {
    question: "Who in AKATSUKI is not the oldest son?",
    answers: {
      a: 'Keito Hasumi',
      b: 'Kuro Kiryu',
      c: 'Souma Kanzaki'
    },
    correctAnswer: 'a'
  },
  {
    question: "Who in AKATSUKI is the shortest?",
    answers: {
      a: 'Keito Hasumi',
      b: 'Kuro Kiryu',
      c: 'Souma Kanzaki'
    },
    correctAnswer: 'c'
  },
  {
    question: "Who in AKATSUKI wears piercings?",
    answers: {
      a: 'Keito Hasumi',
      b: 'Kuro Kiryu',
      c: 'Souma Kanzaki'
    },
    correctAnswer: 'b'
  },
  {
    question: "Who in AKATSUKI has a different blood type (from the others)?",
    answers: {
      a: 'Keito Hasumi',
      b: 'Kuro Kiryu',
      c: 'Souma Kanzaki'
    },
    correctAnswer: 'b'
  },
  {
    question: "When wearing the unit costume, who has red shoelaces?",
    answers: {
      a: 'Keito Hasumi',
      b: 'Kuro Kiryu',
      c: 'Souma Kanzaki'
    },
    correctAnswer: 'b'
  },
];

var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

generateQuiz(myQuestions, quizContainer, resultsContainer, submitButton);

function generateQuiz(questions, quizContainer, resultsContainer, submitButton){

  function showQuestions(questions, quizContainer){
    // we'll need a place to store the output and the answer choices
    var output = [];
    var answers;

    // for each question...
    for(var i=0; i<questions.length; i++){
      
      // first reset the list of answers
      answers = [];

      // for each available answer...
      for(letter in questions[i].answers){

        // ...add an html radio button
        answers.push(
          '<label>'
            + '<input type="radio" name="question'+i+'" value="'+letter+'">'
            + letter + ': '
            + questions[i].answers[letter]
          + '</label>'
        );
      }

      // add this question and its answers to the output
      output.push(
        '<div class="question">' + questions[i].question + '</div>'
        + '<div class="answers">' + answers.join('') + '</div>'
      );
    }

    // finally combine our output list into one string of html and put it on the page
    quizContainer.innerHTML = output.join('');
  }


  function showResults(questions, quizContainer, resultsContainer){
    
    // gather answer containers from our quiz
    var answerContainers = quizContainer.querySelectorAll('.answers');
    
    // keep track of user's answers
    var userAnswer = '';
    var numCorrect = 0;
    
    // for each question...
    for(var i=0; i<questions.length; i++){

      // find selected answer
      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      
      // if answer is correct
      if(userAnswer===questions[i].correctAnswer){
        // add to the number of correct answers
        numCorrect++;
        
        // color the answers green
        answerContainers[i].style.color = 'lightgreen';
      }
      // if answer is wrong or blank
      else{
        // color the answers red
        answerContainers[i].style.color = 'red';
      }
    }

    // show number of correct answers out of total
    resultsContainer.innerHTML = numCorrect + ' out of ' + questions.length;
  }

  // show questions right away
  showQuestions(questions, quizContainer);
  
  // on submit, show results
  submitButton.onclick = function(){
    showResults(questions, quizContainer, resultsContainer);
  }

}
   </script>
 </body>
</html>